import xml.etree.ElementTree as ET
from torch.utils.data import Dataset
from sklearn.preprocessing import StandardScaler, LabelEncoder
import torch
import numpy as np
import os

# Example FIELD_MAP (partial for demo)
FIELD_MAP = {
    "policy_number": {"type": "str", "description": "A unique identifier assigned to the insurance policy, serving as its primary key for all related transactions and records."},
    "policy_effective_date": {"type": "str", "description": "The precise date and time when the insurance coverage officially commences, establishing the start of the policy term."},
    "policy_expiration_date": {"type": "str", "description": "The date and time when the insurance coverage officially terminates, marking the end of the policy term."},
    "policy_term_code": {"type": "str", "description": "A standardized code indicating the duration for which the policy is active, such as 'ANN' for annual, 'QTR' for quarterly, or 'MTY' for multi-year."},
    "policy_transaction_code": {"type": "str", "description": "A numeric code identifying the specific type of transaction being reported for the policy, such as '01' for New Business, '03' for Endorsement, '05' for Cancellation, '02' for Renewal, or '08' for Reinstatement."},
    "policy_status": {"type": "str", "description": "The current operational state of the policy, such as 'Active', 'Cancelled', 'Renewed', 'Expired', or 'Pending'."},
    "prior_policy_number": {"type": "str", "description": "The policy number of the preceding policy, particularly relevant for renewal transactions to link historical coverage."},
    "policy_type": {"type": "str", "description": "A high-level categorization of the commercial policy, such as 'Commercial Package Policy (CPP)', 'Business Owners Policy (BOP)', or 'Monoline Policy'."},
    "policy_product_name": {"type": "str", "description": "The specific name of the insurance product under which the policy is issued, reflecting its marketing or internal designation."},
    "policy_product_lob": {"type": "str", "description": "The specific Line of Business (LOB) to which the policy product belongs, defining its core coverage area (e.g., 'Property & Casualty', 'Life', 'Health')."},
    "policy_amendment_number": {"type": "int", "description": "A sequential number identifying a specific amendment or change made to the policy after its initial issuance."},
    "policy_amendment_effective_date": {"type": "str", "description": "The date an amendment to the policy becomes active."},
    "policy_amendment_description": {"type": "str", "description": "A brief description of the changes introduced by a policy amendment."},
    "policy_inception_date": {"type": "str", "description": "The original date when coverage for a continuous policy or relationship first began, regardless of renewals."},
    "policy_issue_date": {"type": "str", "description": "The date the policy document was officially issued."},
    "policy_billing_method": {"type": "str", "description": "Method of billing for the policy (e.g., 'Direct Bill', 'Agency Bill')."},
    "policy_payment_frequency": {"type": "str", "description": "How often premiums are paid (e.g., 'Monthly', 'Quarterly', 'Annually')."},
    "policy_total_premium": {"type": "float", "description": "The total calculated premium for the entire policy term, before any payments or discounts."},
    "policy_total_fees": {"type": "float", "description": "The total sum of all fees associated with the policy for its term."},
    "policy_total_taxes": {"type": "float", "description": "The total sum of all taxes applied to the policy premium for its term."},
    "policy_currency_code": {"type": "str", "description": "The ISO currency code in which the policy's financial amounts are denominated (e.g., 'USD', 'EUR')."},
    "policy_channel": {"type": "str", "description": "The channel through which the policy was sold (e.g., 'Agency', 'Direct', 'Broker')."},
    "policy_program_code": {"type": "str", "description": "An internal code identifying the specific insurance program or product offering."},
    "policy_unique_identifier": {"type": "str", "description": "An internal, system-generated unique identifier for the policy record, distinct from the policy number."},
    "policy_version_number": {"type": "int", "description": "A number indicating the current version of the policy record, incremented upon amendments or changes."},
    "insured_name": {"type": "str", "description": "The full legal name of the applicant business or entity that is the primary policyholder."},
    "insured_mailing_address_street": {"type": "str", "description": "The street address for official correspondence and billing related to the insured."},
    "insured_mailing_address_city": {"type": "str", "description": "The city component of the insured's mailing address."},
    "insured_mailing_address_state": {"type": "str", "description": "The state or province component of the insured's mailing address."},
    "insured_mailing_address_zip": {"type": "str", "description": "The postal code or ZIP code component of the insured's mailing address."},
    "insured_mailing_address_country": {"type": "str", "description": "The country component of the insured's mailing address (e.g., 'USA', 'CAN')."},
    "insured_physical_address_street": {"type": "str", "description": "The street address of the insured's primary physical business location, if different from mailing."},
    "insured_physical_address_city": {"type": "str", "description": "The city component of the insured's primary physical business location."},
    "insured_physical_address_state": {"type": "str", "description": "The state or province component of the insured's primary physical business location."},
    "insured_physical_address_zip": {"type": "str", "description": "The postal code or ZIP code component of the insured's primary physical business location."},
    "insured_physical_address_country": {"type": "str", "description": "The country component of the insured's primary physical business location."},
    "insured_phone_number_main": {"type": "str", "description": "The primary telephone number for contacting the insured business."},
    "insured_phone_number_fax": {"type": "str", "description": "The fax number for the insured business."},
    "insured_email_address": {"type": "str", "description": "The primary email address for electronic communication with the insured."},
    "insured_website_address": {"type": "str", "description": "The official website address of the insured business."},
    "insured_contact_name_primary": {"type": "str", "description": "The full name of the main individual contact person within the insured business."},
    "insured_contact_title_primary": {"type": "str", "description": "The professional title of the primary contact person (e.g., 'CEO', 'Owner', 'Operations Manager')."},
    "insured_organization_type": {"type": "str", "description": "The legal structure or entity type of the insured business (e.g., 'Corporation', 'Partnership', 'Sole Proprietorship', 'LLC')."},
    "federal_employer_id_number_fein": {"type": "str", "description": "The Federal Employer Identification Number (FEIN) for the applicant business, a unique tax ID."},
    "naics_code": {"type": "str", "description": "The North American Industry Classification System (NAICS) code, a standardized code identifying the primary industry in which the business operates, crucial for risk profiling."},
    "sic_code": {"type": "str", "description": "The Standard Industrial Classification (SIC) code, another system for classifying business industries, often used in conjunction with NAICS."},
    "business_years_in_operation": {"type": "int", "description": "The total number of years the business has been actively operating, indicating stability and experience."},
    "annual_revenue": {"type": "float", "description": "The reported annual gross revenue or sales of the business, a key indicator of its size and financial capacity."},
    "number_of_employees_total": {"type": "int", "description": "The total count of all employees within the business, impacting various coverage calculations like Workers' Compensation."},
    "business_lexid": {"type": "str", "description": "A unique identifier assigned by LexisNexis to the business, used for data prefill and risk assessment."},
    "primary_business_activity_description": {"type": "str", "description": "A detailed narrative description of the insured's core business operations and services provided."},
    "secondary_business_activity_description": {"type": "str", "description": "Description of any secondary business activities or operations."},
    "business_legal_nature_code": {"type": "str", "description": "A code representing the legal nature of the insured entity (e.g., 'IND' for Individual, 'CORP' for Corporation)."},
    "business_locations_count": {"type": "int", "description": "The total number of distinct physical locations associated with the insured business."},
    "business_international_presence_flag": {"type": "bool", "description": "Boolean indicating if the business has operations or presence outside its primary country."},
    "business_risk_management_system_certified_flag": {"type": "bool", "description": "Boolean indicating if the business has a certified risk management system in place."},
    "agency_name": {"type": "str", "description": "The full legal name of the insurance agency that handles the policy."},
    "agency_address_street": {"type": "str", "description": "The street address of the insurance agency."},
    "agency_address_city": {"type": "str", "description": "The city component of the agency's address."},
    "agency_address_state": {"type": "str", "description": "The state or province component of the agency's address."},
    "agency_address_zip": {"type": "str", "description": "The postal code or ZIP code component of the agency's address."},
    "agency_address_country": {"type": "str", "description": "The country component of the agency's address."},
    "agency_contact_name_primary": {"type": "str", "description": "The full name of the primary contact person at the insurance agency."},
    "agency_customer_id": {"type": "str", "description": "An internal customer identification number used by the agency for its records."},
    "agency_phone_number_main": {"type": "str", "description": "The primary telephone number for the insurance agency."},
    "agency_fax_number": {"type": "str", "description": "The fax number for the insurance agency."},
    "agency_email_address": {"type": "str", "description": "The primary email address for the insurance agency."},
    "producer_name": {"type": "str", "description": "The full name of the insurance producer responsible for originating the policy."},
    "producer_license_number": {"type": "str", "description": "The professional license number of the insurance producer."},
    "carrier_name": {"type": "str", "description": "The full legal name of the insurance carrier (insurer) that underwrites and provides the policy."},
    "carrier_code": {"type": "str", "description": "A unique internal code assigned to the insurance carrier."},
    "underwriter_name": {"type": "str", "description": "The full name of the underwriter responsible for assessing and approving the policy."},
    "underwriter_id": {"type": "str", "description": "A unique identifier for the underwriter."},
    "insurer_naic_company_code": {"type": "str", "description": "The five-digit code assigned by the NAIC to the insurer, used for regulatory reporting and identification."},
    "insurer_address_street": {"type": "str", "description": "The street address of the insurance carrier's main office."},
    "insurer_address_city": {"type": "str", "description": "The city component of the insurance carrier's address."},
    "insurer_address_state": {"type": "str", "description": "The state or province component of the insurance carrier's address."},
    "insurer_address_zip": {"type": "str", "description": "The postal code or ZIP code component of the insurance carrier's address."},
    "insurer_address_country": {"type": "str", "description": "The country component of the insurance carrier's address."},
    "insurer_contact_name": {"type": "str", "description": "The primary contact name at the insurance carrier."},
    "insurer_contact_phone": {"type": "str", "description": "The primary phone number for the insurance carrier."},
    "insurer_contact_email": {"type": "str", "description": "The primary email address for the insurance carrier."},
    "agent_name": {"type": "str", "description": "The full name of the agent or other insurance representative responsible for selling and servicing the policy."},
    "agent_license_number": {"type": "str", "description": "The professional license number of the agent, required for selling insurance policies."},
    "agent_contact_phone": {"type": "str", "description": "The primary telephone number for the agent."},
    "agent_contact_email": {"type": "str", "description": "The primary email address for the agent."},
    "agent_agency_relationship_id": {"type": "str", "description": "A unique identifier for the relationship between the agent and their associated agency."},
    "agent_insurer_relationship_id": {"type": "str", "description": "A unique identifier for the relationship between the agent and the insurer."},
    "agent_commission_rate": {"type": "float", "description": "The commission percentage or rate earned by the agent for this policy."},
    "agent_commission_type": {"type": "str", "description": "The type of commission structure (e.g., 'Flat', 'Tiered', 'Percentage')."},
    "cgl_coverage_type_bodily_injury_flag": {"type": "bool", "description": "Boolean indicating if the policy provides coverage for claims arising from physical harm to a third party."},
    "cgl_coverage_type_property_damage_flag": {"type": "bool", "description": "Boolean indicating if the policy provides coverage for claims arising from damage to a third party's property."},
    "cgl_coverage_type_personal_injury_flag": {"type": "bool", "description": "Boolean indicating if the policy provides coverage for non-physical injuries such as libel, slander, or false arrest."},
    "cgl_coverage_type_advertising_injury_flag": {"type": "bool", "description": "Boolean indicating if the policy provides coverage for claims related to offenses committed in advertisements, such as copyright infringement or defamation."},
    "cgl_general_aggregate_limit": {"type": "float", "description": "The maximum dollar amount the insurer will pay for all covered claims combined during the entire policy period."},
    "cgl_products_completed_operations_aggregate_limit": {"type": "float", "description": "The maximum dollar amount the insurer will pay for claims arising specifically from the insured's products or completed operations during the policy period."},
    "cgl_personal_advertising_injury_limit": {"type": "float", "description": "The maximum dollar amount the insurer will pay for personal and advertising injury claims."},
    "cgl_each_occurrence_limit": {"type": "float", "description": "The maximum dollar amount the insurer will pay for any single covered incident or occurrence."},
    "cgl_damage_to_rented_premises_limit": {"type": "float", "description": "The maximum dollar amount for covered damage to premises rented to or occupied by the insured."},
    "cgl_medical_expense_limit": {"type": "float", "description": "The maximum dollar amount for medical expenses incurred by third parties due to bodily injury on the insured's premises or operations, regardless of fault."},
    "cgl_employee_benefits_liability_limit": {"type": "float", "description": "The maximum dollar amount for claims related to errors or omissions in the administration of employee benefits programs."},
    "cgl_employee_benefits_deductible_per_claim": {"type": "float", "description": "The deductible amount that applies to each claim specifically for employee benefits liability coverage, often a fixed dollar amount."},
    "cgl_policy_deductible_amount": {"type": "float", "description": "The general deductible amount that the insured must pay out-of-pocket before the insurer's coverage begins for a covered loss."},
    "cgl_policy_type": {"type": "str", "description": "Specifies the basis of coverage: 'Claims-Made' (covers claims reported during the policy period, regardless of when the event occurred) or 'Occurrence' (covers events that occur during the policy period, regardless of when the claim is reported)."},
    "cgl_retroactive_date": {"type": "str", "description": "For a claims-made policy, this is the date on or after which an incident must occur for coverage to apply, even if the claim is made during the policy period."},
    "cgl_location_number": {"type": "str", "description": "A unique identifier assigned to each specific physical location covered under the CGL policy."},
    "cgl_location_address_street": {"type": "str", "description": "The street address of a specific covered location."},
    "cgl_location_address_city": {"type": "str", "description": "The city of a specific covered location."},
    "cgl_location_address_state": {"type": "str", "description": "The state or province of a specific covered location."},
    "cgl_location_address_zip": {"type": "str", "description": "The postal code or ZIP code of a specific covered location."},
    "cgl_location_address_country": {"type": "str", "description": "The country component of a specific covered location's address."},
    "cgl_location_description": {"type": "str", "description": "A brief description of the operations or nature of the specific covered location."},
    "cgl_hazard_description": {"type": "str", "description": "A detailed description of any specific hazards or unique risks associated with a particular location or operation."},
    "cgl_classification_code": {"type": "str", "description": "The ISO classification code assigned to the specific business operation or exposure at a location, used for rating purposes."},
    "cgl_premium_base_type": {"type": "str", "description": "The type of metric used as the basis for premium calculation for a specific classification (e.g., 'p' for payroll, 's' for gross sales, 'a' for area, 'm' for admissions, 'o' for operating expenses, 'u' for unit)."},
    "cgl_premium_base_amount": {"type": "float", "description": "The numerical value corresponding to the chosen premium base type (e.g., total payroll, total gross sales)."},
    "cgl_loss_cost": {"type": "float", "description": "The actuarially determined average cost of losses for a specific classification, typically provided by rating organizations like ISO."},
    "cgl_coverage_change_factor_personal_advertising_injury_exclusion": {"type": "float", "description": "A rate adjustment factor applied if the Personal and Advertising Injury coverage is excluded or limited."},
    "cgl_coverage_change_factor_fire_damage_liability_exclusion": {"type": "float", "description": "A rate adjustment factor applied if the Fire Damage Liability coverage is excluded or limited."},
    "cgl_coverage_change_factor_medical_payments_exclusion": {"type": "float", "description": "A rate adjustment factor applied if the Medical Payments coverage is excluded or limited."},
    "cgl_increased_limits_factor_premises_operations": {"type": "float", "description": "A factor applied to adjust premiums for increased liability limits specifically for premises/operations exposures."},
    "cgl_increased_limits_factor_products_completed_operations": {"type": "float", "description": "A factor applied to adjust premiums for increased liability limits specifically for products/completed operations exposures."},
    "cgl_experience_rating_factor": {"type": "float", "description": "A modification factor applied to the premium based on the insured's past loss experience relative to others in the same industry, provided by ISO."},
    "cgl_schedule_rating_factor": {"type": "float", "description": "A modification factor applied to the premium based on specific risk characteristics not fully captured by classification codes, allowing for manual adjustments by underwriters."},
    "cgl_package_modification_factor": {"type": "float", "description": "A factor applied when CGL is part of a package policy, potentially offering a discount or surcharge."},
    "cgl_individual_risk_premium_modification_factor": {"type": "float", "description": "A factor applied from an insurer's own Individual Risk Premium Modification (IRPM) plan or Supplemental Rating Plan (SRP)."},
    "cgl_minimum_premium_premises_operations": {"type": "float", "description": "The lowest premium amount charged for premises/operations coverage, regardless of exposure."},
    "cgl_minimum_premium_products_completed_operations": {"type": "float", "description": "The lowest premium amount charged for products/completed operations coverage, regardless of exposure."},
    "cgl_contractors_involved_flag": {"type": "bool", "description": "Boolean indicating whether the insured utilizes contractors in their operations."},
    "cgl_subcontractors_work_description": {"type": "str", "description": "A detailed description of the type of work performed by subcontractors, if applicable."},
    "cgl_product_manufactured_sold_name": {"type": "str", "description": "The name of any specific product(s) manufactured or sold by the insured, or service(s) provided."},
    "cgl_product_annual_gross_sales": {"type": "float", "description": "The annual gross sales revenue generated from each specific product or service listed."},
    "cgl_product_number_of_units_sold": {"type": "int", "description": "The annual number of units manufactured or sold for each specific product."},
    "cgl_product_time_on_market_years": {"type": "int", "description": "The number of years the product or service has been available on the market."},
    "cgl_product_useful_life_years": {"type": "int", "description": "The estimated useful life of the product or service, relevant for long-tail liability assessment."},
    "cgl_product_use_description": {"type": "str", "description": "A description of how the product or service is typically used by consumers or clients."},
    "cgl_additional_insured_flag": {"type": "bool", "description": "Boolean indicating if other companies or individuals are named as 'additional insureds' on the policy."},
    "cgl_additional_insured_entity_name": {"type": "str", "description": "The legal name of the entity or individual added as an additional insured."},
    "cgl_additional_insured_relationship_to_insured": {"type": "str", "description": "The nature of the relationship between the additional insured and the primary insured (e.g., 'Contractor', 'Property Owner', 'Lessor')."},
    "cgl_general_information_question_1_answer": {"type": "str", "description": "The answer (Yes/No) to the first general information question on the ACORD 126 form."},
    "cgl_general_information_question_1_explanation": {"type": "str", "description": "A detailed explanation required if the answer to general information question 1 is 'Yes'."},
    "cgl_general_information_question_2_answer": {"type": "str", "description": "The answer (Yes/No) to the second general information question."},
    "cgl_general_information_question_2_explanation": {"type": "str", "description": "Explanation for general information question 2."},
    "cgl_general_information_question_3_answer": {"type": "str", "description": "The answer (Yes/No) to the third general information question."},
    "cgl_general_information_question_3_explanation": {"type": "str", "description": "Explanation for general information question 3."},
    "cgl_general_information_question_4_answer": {"type": "str", "description": "The answer (Yes/No) to the fourth general information question."},
    "cgl_general_information_question_4_explanation": {"type": "str", "description": "Explanation for general information question 4."},
    "cgl_general_information_question_5_answer": {"type": "str", "description": "The answer (Yes/No) to the fifth general information question."},
    "cgl_general_information_question_5_explanation": {"type": "str", "description": "Explanation for general information question 5."},
    "cgl_general_information_question_6_answer": {"type": "str", "description": "The answer (Yes/No) to the sixth general information question."},
    "cgl_general_information_question_6_explanation": {"type": "str", "description": "Explanation for general information question 6."},
    "cgl_general_information_question_7_answer": {"type": "str", "description": "The answer (Yes/No) to the seventh general information question."},
    "cgl_general_information_question_7_explanation": {"type": "str", "description": "Explanation for general information question 7."},
    "cgl_general_information_question_8_answer": {"type": "str", "description": "The answer (Yes/No) to the eighth general information question."},
    "cgl_general_information_question_8_explanation": {"type": "str", "description": "Explanation for general information question 8."},
    "cgl_general_information_question_9_answer": {"type": "str", "description": "The answer (Yes/No) to the ninth general information question."},
    "cgl_general_information_question_9_explanation": {"type": "str", "description": "Explanation for general information question 9."},
    "cgl_general_information_question_10_answer": {"type": "str", "description": "The answer (Yes/No) to the tenth general information question."},
    "cgl_general_information_question_10_explanation": {"type": "str", "description": "Explanation for general information question 10."},
    "cgl_general_information_question_11_answer": {"type": "str", "description": "The answer (Yes/No) to the eleventh general information question."},
    "cgl_general_information_question_11_explanation": {"type": "str", "description": "Explanation for general information question 11."},
    "cgl_general_information_question_12_answer": {"type": "str", "description": "The answer (Yes/No) to the twelfth general information question."},
    "cgl_general_information_question_12_explanation": {"type": "str", "description": "Explanation for general information question 12."},
    "cgl_general_information_question_13_answer": {"type": "str", "description": "The answer (Yes/No) to the thirteenth general information question."},
    "cgl_general_information_question_13_explanation": {"type": "str", "description": "Explanation for general information question 13."},
    "cgl_general_information_question_14_answer": {"type": "str", "description": "The answer (Yes/No) to the fourteenth general information question."},
    "cgl_general_information_question_14_explanation": {"type": "str", "description": "Explanation for general information question 14."},
    "cgl_general_information_question_15_answer": {"type": "str", "description": "The answer (Yes/No) to the fifteenth general information question."},
    "cgl_general_information_question_15_explanation": {"type": "str", "description": "Explanation for general information question 15."},
    "cgl_general_information_question_16_answer": {"type": "str", "description": "The answer (Yes/No) to the sixteenth general information question."},
    "cgl_general_information_question_16_explanation": {"type": "str", "description": "Explanation for general information question 16."},
    "cgl_general_information_question_17_answer": {"type": "str", "description": "The answer (Yes/No) to the seventeenth general information question."},
    "cgl_general_information_question_17_explanation": {"type": "str", "description": "Explanation for general information question 17."},
    "cgl_general_information_question_18_answer": {"type": "str", "description": "The answer (Yes/No) to the eighteenth general information question."},
    "cgl_general_information_question_18_explanation": {"type": "str", "description": "Explanation for general information question 18."},
    "cgl_general_information_question_19_answer": {"type": "str", "description": "The answer (Yes/No) to the nineteenth general information question."},
    "cgl_general_information_question_19_explanation": {"type": "str", "description": "Explanation for general information question 19."},
    "cgl_general_information_question_20_answer": {"type": "str", "description": "The answer (Yes/No) to the twentieth general information question."},
    "cgl_general_information_question_20_explanation": {"type": "str", "description": "Explanation for general information question 20."},
    "cgl_general_information_question_21_answer": {"type": "str", "description": "The answer (Yes/No) to the twenty-first general information question."},
    "cgl_general_information_question_21_explanation": {"type": "str", "description": "Explanation for general information question 21."},
    "cgl_general_information_question_22_answer": {"type": "str", "description": "The answer (Yes/No) to the twenty-second general information question."},
    "cgl_general_information_question_22_explanation": {"type": "str", "description": "Explanation for general information question 22."},
    "property_identification_address_street": {"type": "str", "description": "The street address of the commercial property being insured."},
    "property_identification_address_city": {"type": "str", "description": "The city component of the insured property's address."},
    "property_identification_address_state": {"type": "str", "description": "The state or province component of the insured property's address."},
    "property_identification_address_zip": {"type": "str", "description": "The postal code or ZIP code of the insured property, critical for location-based risk assessment."},
    "property_identification_address_country": {"type": "str", "description": "The country component of the insured property's address."},
    "property_identification_gps_latitude": {"type": "float", "description": "The geographical latitude coordinate of the property, enabling precise location-based risk analysis."},
    "property_identification_gps_longitude": {"type": "float", "description": "The geographical longitude coordinate of the property, enabling precise location-based risk analysis."},
    "property_building_number": {"type": "str", "description": "A unique identifier for a specific building located on a premises, especially if multiple buildings exist."},
    "property_building_description": {"type": "str", "description": "A general narrative description of the building's purpose or characteristics."},
    "property_building_age_years": {"type": "int", "description": "The age of the building in years, calculated from the year built to the current year."},
    "property_building_year_built": {"type": "int", "description": "The specific year the building was originally constructed, a key factor in assessing structural integrity and adherence to older building codes."},
    "property_building_size_square_footage": {"type": "float", "description": "The total floor area of the building in square feet, influencing property value and potential loss exposure."},
    "property_building_number_of_stories": {"type": "int", "description": "The total number of stories or floors in the building, including basements."},
    "property_building_construction_type": {"type": "str", "description": "The primary type of construction materials and methods used for the building (e.g., 'Frame', 'Joisted Masonry', 'Non-Combustible', 'Masonry Non-Combustible', 'Modified Fire Resistive', 'Fire Resistive'). This is a critical factor for fire risk assessment."},
    "property_building_construction_class_code": {"type": "str", "description": "A standardized code representing the construction class, often based on ISO classifications, influencing rating."},
    "property_building_roof_geometry": {"type": "str", "description": "The shape or design of the roof (e.g., 'Flat', 'Gable', 'Hip'), impacting wind resistance."},
    "property_building_roof_covering_type": {"type": "str", "description": "The material used for the roof covering (e.g., 'Asphalt Shingle', 'Metal', 'Tile'), affecting durability and fire resistance."},
    "property_building_roof_age_years": {"type": "int", "description": "The age of the roof in years, indicating its condition and potential for wear."},
    "property_building_interior_construction_details": {"type": "str", "description": "Specific details about interior construction, such as the presence of vertical openings (e.g., stairwells, elevator shafts) and types of interior finishes, which can affect fire spread."},
    "property_building_wiring_update_year": {"type": "int", "description": "The year the electrical wiring in the building was last updated or significantly renovated."},
    "property_building_plumbing_update_year": {"type": "int", "description": "The year the plumbing system in the building was last updated or significantly renovated."},
    "property_building_heating_update_year": {"type": "int", "description": "The year the heating system in the building was last updated or significantly renovated."},
    "property_building_support_structure": {"type": "str", "description": "Details on the support for walls, roofs, and floors (e.g., 'Steel Frame', 'Wood Joists')."},
    "property_building_amount_type_glass_windows": {"type": "str", "description": "Information regarding the amount and type of glass or windows, impacting security and potential for breakage."},
    "property_building_historical_landmark_flag": {"type": "bool", "description": "Boolean indicating if the property is designated as a historical landmark, which can affect valuation and repair requirements."},
    "property_occupancy_current_use": {"type": "str", "description": "The primary current use of the property (e.g., 'Retail', 'Office', 'Manufacturing', 'Warehouse', 'Restaurant')."},
    "property_occupancy_tenant_information_summary": {"type": "str", "description": "A summary of tenant information, including the number of tenants and their business types."},
    "property_occupancy_combustibility_ranking": {"type": "str", "description": "A ranking or rating indicating the combustibility of the occupancy, from low to high."},
    "property_occupancy_susceptibility_to_damage": {"type": "str", "description": "An assessment of the occupancy's susceptibility to damage from fire, smoke, and water."},
    "property_building_hazards_details": {"type": "str", "description": "Specific details about internal building hazards, such as the type of heating systems (e.g., boilers), electrical system condition, presence of flammable liquids, cooking equipment, chemicals, or gases."},
    "property_fire_protection_systems_sprinklers_flag": {"type": "bool", "description": "Boolean indicating the presence of automatic sprinkler systems throughout the property."},
    "property_fire_protection_systems_alarms_flag": {"type": "bool", "description": "Boolean indicating the presence of fire alarm systems (e.g., smoke detectors, heat detectors) and their connection to a central station."},
    "property_fire_protection_fire_district": {"type": "str", "description": "The designated fire district in which the property is located, influencing response times."},
    "property_fire_protection_class": {"type": "str", "description": "The Public Protection Classification (PPC) rating assigned by ISO to the local fire department, reflecting its capabilities and influencing fire insurance rates."},
    "property_fire_protection_water_supply_details": {"type": "str", "description": "Information on the water supply available for fire fighting, including hydrant proximity and water main size."},
    "property_fire_protection_extinguishers_flag": {"type": "bool", "description": "Boolean indicating the presence and accessibility of portable fire extinguishers."},
    "property_security_systems_burglar_alarm_flag": {"type": "bool", "description": "Boolean indicating the presence of a burglar alarm system, and whether it is monitored."},
    "property_security_systems_cameras_flag": {"type": "bool", "description": "Boolean indicating the presence of security cameras."},
    "property_natural_hazard_exposure_flood_risk_flag": {"type": "bool", "description": "Boolean indicating if the property is located in an area prone to flooding."},
    "property_natural_hazard_exposure_earthquake_risk_flag": {"type": "bool", "description": "Boolean indicating if the property is located in an area prone to earthquakes."},
    "property_natural_hazard_exposure_wildfire_risk_flag": {"type": "bool", "description": "Boolean indicating if the property is located in an area prone to wildfires."},
    "property_natural_hazard_exposure_proximity_to_fire_department": {"type": "str", "description": "The distance or proximity of the property to the nearest fire department, impacting response time."},
    "property_natural_hazard_exposure_crime_rate_in_area": {"type": "str", "description": "An assessment or index of the crime rate in the property's geographic area, influencing theft risk."},
    "property_adjacent_properties_description": {"type": "str", "description": "A description of surrounding structures or activities that could pose an exposure risk to the insured property."},
    "property_adjacent_storage_tanks_flag": {"type": "bool", "description": "Boolean indicating the presence of adjacent storage tanks, especially for hazardous materials."},
    "property_environmental_compliance_records_flag": {"type": "bool", "description": "Boolean indicating if environmental compliance records are available for review, especially for industrial operations."},
    "property_loss_control_measures_description": {"type": "str", "description": "A description of any specific risk management or loss prevention measures implemented at the property."},
    "property_valuation_current_market_value": {"type": "float", "description": "The current estimated market value of the property, reflecting its worth in the real estate market."},
    "property_valuation_replacement_cost": {"type": "float", "description": "The estimated cost to rebuild or replace the property with new materials of like kind and quality, without deduction for depreciation."},
    "property_total_insured_value_tiv": {"type": "float", "description": "The total amount of insurance available for a single-loss event, typically calculated by adding replacement cost of the structure, business interruption loss costs, and personal property value."},
    "property_subject_of_insurance_building_flag": {"type": "bool", "description": "Boolean indicating if the building structure itself is a subject of insurance."},
    "property_subject_of_insurance_business_personal_property_flag": {"type": "bool", "description": "Boolean indicating if business personal property (e.g., contents, equipment) is a subject of insurance."},
    "property_subject_of_insurance_business_income_flag": {"type": "bool", "description": "Boolean indicating if business income (loss of earnings due to covered perils) is a subject of insurance."},
    "property_amount_of_coverage_building": {"type": "float", "description": "The insurance limit for the building structure."},
    "property_amount_of_coverage_business_personal_property": {"type": "float", "description": "The insurance limit for business personal property."},
    "property_amount_of_coverage_business_income": {"type": "float", "description": "The insurance limit for business income coverage."},
    "property_coinsurance_percentage": {"type": "float", "description": "The percentage of the property's value that the insured must maintain in coverage to receive full payment for a partial loss (e.g., 80%, 90%, or 100%)."},
    "property_valuation_method": {"type": "str", "description": "The method used to determine the value for claims payout: 'A' for Actual Cash Value (ACV) or 'R' for Replacement Cost (RC)."},
    "property_causes_of_loss_type": {"type": "str", "description": "The type of perils covered by the policy (e.g., 'Basic' (fire, lightning, explosion), 'Broad' (adds more perils like falling objects), 'Special' (all perils unless excluded), 'Special including theft', or 'Special excluding theft')."},
    "property_deductible_amount": {"type": "float", "description": "The deductible amount applicable to the property, which the insured pays before the insurer's coverage begins."},
    "property_inflation_guard_percentage": {"type": "float", "description": "The percentage by which the coverage limit automatically increases over the policy term to account for inflation."},
    "property_extra_expense_coverage_flag": {"type": "bool", "description": "Boolean indicating if coverage for extra expenses incurred to continue operations after a covered loss is included."},
    "property_spoilage_coverage_flag": {"type": "bool", "description": "Boolean indicating if coverage for spoilage of perishable goods due to power outage or equipment breakdown is included."},
    "property_mine_subsidence_coverage_flag": {"type": "bool", "description": "Boolean indicating if coverage for damage caused by mine subsidence is included, depending on location."},
    "property_sinkhole_coverage_flag": {"type": "bool", "description": "Boolean indicating if coverage for damage caused by sinkholes is included, depending on location."},
    "property_additional_interest_type": {"type": "str", "description": "The type of additional interest party (e.g., 'Loss Payee', 'Mortgagee', 'Lender')."},
    "property_additional_interest_name": {"type": "str", "description": "The full legal name of the additional interested party (e.g., bank, landlord)."},
    "property_additional_interest_address": {"type": "str", "description": "The address of the additional interested party."},
    "property_additional_interest_item_number": {"type": "str", "description": "The specific item or building number to which the additional interest applies."},
    "property_additional_interest_reference_number": {"type": "str", "description": "A reference number associated with the additional interest, such as a loan or mortgage number."},
    "property_historical_loss_data_flag": {"type": "bool", "description": "Boolean indicating if historical loss data (past claims and incidents) is available for the property."},
    "property_historical_loss_data_details_summary": {"type": "str", "description": "A summary or reference to past claims and incidents related to the property, crucial for risk assessment."},
    "property_risk_score": {"type": "float", "description": "An aggregated risk score for the property, derived from various characteristics and exposures."},
    "property_underwriting_notes": {"type": "str", "description": "Any specific notes or observations made by the underwriter regarding the property's risk profile."},
    "auto_vehicle_number": {"type": "str", "description": "A unique sequential identifier for each vehicle listed on the policy's vehicle schedule."},
    "auto_vehicle_year": {"type": "int", "description": "The manufacturing year of the vehicle."},
    "auto_vehicle_make": {"type": "str", "description": "The manufacturer of the vehicle (e.g., 'Ford', 'Toyota')."},
    "auto_vehicle_model": {"type": "str", "description": "The specific model of the vehicle (e.g., 'F-150', 'Camry')."},
    "auto_vehicle_vin": {"type": "str", "description": "The Vehicle Identification Number, a unique 17-character identifier for the vehicle."},
    "auto_vehicle_type": {"type": "str", "description": "The general type or body style of the vehicle (e.g., 'Private Passenger', 'Commercial Truck', 'Van', 'Special')."},
    "auto_vehicle_garaging_address_street": {"type": "str", "description": "The street address where the vehicle is primarily parked or housed overnight."},
    "auto_vehicle_garaging_address_city": {"type": "str", "description": "The city where the vehicle is principally garaged."},
    "auto_vehicle_garaging_address_state": {"type": "str", "description": "The state or province where the vehicle is principally garaged."},
    "auto_vehicle_garaging_address_zip": {"type": "str", "description": "The postal code or ZIP code where the vehicle is principally garaged, influencing geographic risk."},
    "auto_vehicle_registration_state": {"type": "str", "description": "The state where the vehicle is officially registered."},
    "auto_vehicle_gross_vehicle_weight_gvw": {"type": "float", "description": "The Gross Vehicle Weight, representing the maximum operating weight of the vehicle, including its own weight and cargo."},
    "auto_vehicle_classification": {"type": "str", "description": "The classification of the vehicle for rating purposes, often based on size, type, and use."},
    "auto_vehicle_use": {"type": "str", "description": "The primary intended use of the vehicle (e.g., 'Service', 'Retail', 'Commercial', 'For Hire', 'Delivery')."},
    "auto_vehicle_cost_new": {"type": "float", "description": "The original cost of the vehicle when it was new, used for calculating physical damage coverage limits."},
    "auto_vehicle_maintenance_program_flag": {"type": "bool", "description": "Boolean indicating if a formal vehicle maintenance program is in place for the insured vehicles."},
    "auto_vehicle_odometer_reading": {"type": "float", "description": "The current odometer reading of the vehicle, especially for usage-based insurance."},
    "auto_vehicle_estimated_annual_mileage": {"type": "float", "description": "The estimated annual mileage the vehicle will be driven."},
    "auto_driver_name": {"type": "str", "description": "The full name of the driver associated with the insured vehicle(s)."},
    "auto_driver_date_of_birth": {"type": "str", "description": "The driver's date of birth."},
    "auto_driver_year_licensed": {"type": "int", "description": "The year the driver was first licensed to operate a motor vehicle."},
    "auto_driver_license_number": {"type": "str", "description": "The driver's license number."},
    "auto_driver_issuing_state": {"type": "str", "description": "The state that issued the driver's license."},
    "auto_driver_social_security_number_ssn": {"type": "str", "description": "The driver's Social Security Number (SSN), if required by the carrier for underwriting or identification purposes."},
    "auto_driver_marital_status": {"type": "str", "description": "The marital status of the driver."},
    "auto_driver_sex": {"type": "str", "description": "The sex of the driver."},
    "auto_driver_percentage_of_vehicle_use": {"type": "float", "description": "The estimated percentage of time a specific driver uses a particular vehicle."},
    "auto_driver_mvr_monitoring_program_flag": {"type": "bool", "description": "Boolean indicating if the driver's Motor Vehicle Record (MVR) is continuously monitored for violations."},
    "auto_driver_training_program_flag": {"type": "bool", "description": "Boolean indicating if the company implements targeted driver training programs to improve safety."},
    "auto_telematics_data_flag": {"type": "bool", "description": "Boolean indicating if telematics data (data collected directly from the vehicle) is utilized for risk assessment and pricing."},
    "auto_telematics_mileage_driven": {"type": "float", "description": "The total mileage driven as captured by the vehicle's telematics system."},
    "auto_telematics_location_data": {"type": "str", "description": "Geographic location data of vehicle travel, captured via telematics."},
    "auto_telematics_speed_data": {"type": "float", "description": "Data on driving speed, captured via telematics, indicating adherence to speed limits."},
    "auto_telematics_hard_braking_events": {"type": "int", "description": "The count or severity of hard braking events, indicating aggressive driving behavior."},
    "auto_telematics_sharp_acceleration_events": {"type": "int", "description": "The count or severity of sharp acceleration events, indicating aggressive driving behavior."},
    "auto_telematics_time_of_day_driving_data": {"type": "str", "description": "Data reflecting when driving occurs, such as during rush hours or late at night, which can influence risk."},
    "auto_telematics_consent_status": {"type": "str", "description": "The status of the policyholder's consent for sharing telematics data, crucial for data privacy and compliance."},
    "auto_driver_past_accidents_count": {"type": "int", "description": "The number of past accidents involving the driver."},
    "auto_driver_past_violations_count": {"type": "int", "description": "The number of past traffic violations incurred by the driver."},
    "auto_coverage_type_liability_flag": {"type": "bool", "description": "Boolean indicating if liability coverage (for bodily injury and property damage to third parties) is included."},
    "auto_coverage_type_comprehensive_flag": {"type": "bool", "description": "Boolean indicating if comprehensive coverage (for non-collision physical damage to the insured vehicle, e.g., theft, fire) is included."},
    "auto_coverage_type_collision_flag": {"type": "bool", "description": "Boolean indicating if collision coverage (for physical damage to the insured vehicle from a collision) is included."},
    "auto_coverage_type_uninsured_motorist_flag": {"type": "bool", "description": "Boolean indicating if uninsured/underinsured motorist coverage is included."},
    "auto_coverage_type_medical_payments_flag": {"type": "bool", "description": "Boolean indicating if medical payments coverage (for medical expenses regardless of fault) is included."},
    "auto_coverage_type_rental_reimbursement_flag": {"type": "bool", "description": "Boolean indicating if rental reimbursement coverage (for rental car costs while the insured vehicle is repaired) is included."},
    "auto_coverage_type_towing_labor_flag": {"type": "bool", "description": "Boolean indicating if towing and labor coverage is included."},
    "auto_liability_coverage_limit": {"type": "float", "description": "The maximum dollar limit for auto liability coverage."},
    "auto_comprehensive_deductible": {"type": "float", "description": "The deductible amount for comprehensive coverage."},
    "auto_collision_deductible": {"type": "float", "description": "The deductible amount for collision coverage."},
    "auto_hired_auto_exposure_cost_of_hire": {"type": "float", "description": "The total annual cost of hiring vehicles for business use, used to assess exposure for hired auto coverage."},
    "auto_non_owned_auto_exposure_employee_rentals_flag": {"type": "bool", "description": "Boolean indicating if employees rent vehicles in their own names for business purposes, impacting non-owned auto exposure."},
    "auto_non_owned_auto_exposure_business_use_flag": {"type": "bool", "description": "Boolean indicating if non-owned autos (e.g., employee personal vehicles) are used in the business, impacting non-owned auto exposure."},
    "auto_hazardous_material_transport_flag": {"type": "bool", "description": "Boolean indicating if the business transports hazardous materials, triggering specific regulatory and coverage requirements."},
    "auto_icc_filing_flag": {"type": "bool", "description": "Boolean indicating if Interstate Commerce Commission (ICC) filings are required for the business's operations."},
    "auto_puc_filing_flag": {"type": "bool", "description": "Boolean indicating if Public Utilities Commission (PUC) filings are required for the business's operations."},
    "auto_additional_interest_type": {"type": "str", "description": "The type of additional interest party on the auto policy (e.g., 'Lienholder', 'Lessor')."},
    "auto_additional_interest_name": {"type": "str", "description": "The full legal name of the additional interested party."},
    "auto_additional_interest_address": {"type": "str", "description": "The address of the additional interested party."},
    "auto_additional_interest_vehicle_number": {"type": "str", "description": "The vehicle number to which the additional interest applies."},
    "wc_remuneration_payroll_amount": {"type": "float", "description": "The total payroll amount used as the primary basis for calculating Workers' Compensation premiums."},
    "wc_number_of_full_time_employees": {"type": "int", "description": "The total count of full-time employees in the business."},
    "wc_number_of_part_time_employees": {"type": "int", "description": "The total count of part-time employees in the business."},
    "wc_employee_included_excluded_flag": {"type": "bool", "description": "Boolean indicating whether a specific individual (e.g., owner, partner, officer, relative) is included in or excluded from Workers' Compensation benefits."},
    "wc_employee_state_of_operation": {"type": "str", "description": "The state in which a specific employee primarily operates or is based, relevant for multi-state policies."},
    "wc_employee_location_number": {"type": "str", "description": "The location number associated with a specific employee, linking them to a defined work site."},
    "wc_employee_title": {"type": "str", "description": "The job title or role of the employee (e.g., 'Owner', 'Officer', 'Partner')."},
    "wc_employee_ownership_percentage": {"type": "float", "description": "The percentage of ownership for owners or partners, relevant for inclusion/exclusion decisions."},
    "wc_employee_remuneration": {"type": "float", "description": "The specific remuneration amount for included or excluded individuals, if different from general payroll."},
    "wc_seasonal_employees_flag": {"type": "bool", "description": "Boolean indicating if the business utilizes seasonal employees, which may impact exposure calculations."},
    "wc_physical_handicaps_of_employees_flag": {"type": "bool", "description": "Boolean indicating if the business employs individuals with physical handicaps, relevant for certain risk assessments."},
    "wc_number_of_employees_covered_under_benefits_plan": {"type": "int", "description": "The count of employees specifically covered under the company's employee benefits plan, relevant for Employee Benefits Liability."},
    "wc_location_number": {"type": "str", "description": "A unique identifier for each physical location where employees perform work."},
    "wc_location_address_street": {"type": "str", "description": "The street address of the work location."},
    "wc_location_address_city": {"type": "str", "description": "The city of the work location."},
    "wc_location_address_state": {"type": "str", "description": "The state of the work location."},
    "wc_location_address_zip": {"type": "str", "description": "The postal code or ZIP code of the work location."},
    "wc_location_address_country": {"type": "str", "description": "The country component of the work location's address."},
    "wc_work_from_home_arrangement_flag": {"type": "bool", "description": "Boolean indicating if employees have formal work-from-home arrangements, requiring specific location considerations."},
    "wc_class_code": {"type": "str", "description": "The Workers' Compensation classification code, assigned based on the nature of the work performed, used for rating."},
    "wc_job_duties_description": {"type": "str", "description": "A detailed description of the specific job duties performed under a given classification code, especially when payroll is broken down by tasks."},
    "wc_estimated_exposure_amount": {"type": "float", "description": "The estimated exposure amount for the classification code, typically based on payroll, used in premium calculation."},
    "wc_manual_charged_rate": {"type": "float", "description": "The manual or charged rate applied to the exposure amount for a given classification code."},
    "wc_estimated_premium_amount": {"type": "float", "description": "The estimated premium amount calculated for a specific classification code and exposure."},
    "wc_experience_modification_factor": {"type": "float", "description": "The experience modification factor (e-mod), a multiplier applied to the manual premium based on the insured's past loss experience, provided by NCCI."},
    "wc_experience_mod_effective_date": {"type": "str", "description": "The effective date from which the experience modification factor applies."},
    "wc_merit_rating_factor": {"type": "float", "description": "A factor applied for merit rating plans, which are specific premium adjustments based on certain risk characteristics."},
    "wc_merit_rating_status_code": {"type": "str", "description": "A status code associated with the merit rating factor, indicating its applicability or reason."},
    "wc_expense_constant_amount": {"type": "float", "description": "A fixed charge applied to each Workers' Compensation policy to cover administrative expenses, typically reported for the state with the highest value if multiple states are covered."},
    "wc_loss_constant_amount": {"type": "float", "description": "A fixed charge applied to each Workers' Compensation policy to cover a portion of expected losses, typically reported for the state with the highest value if multiple states are covered."},
    "wc_premium_discount_amount": {"type": "float", "description": "A discount applied to the premium for larger policies, reflecting economies of scale in administration."},
    "wc_deposit_premium": {"type": "float", "description": "The initial premium payment required at the beginning of the policy term."},
    "wc_assigned_risk_consideration_flag": {"type": "bool", "description": "Boolean indicating if the policy is placed through an assigned risk pool, typically for businesses unable to obtain coverage in the voluntary market."},
    "wc_policy_year_loss_history": {"type": "int", "description": "The policy year for which loss history data is being reported."},
    "wc_prior_carrier_name": {"type": "str", "description": "The name of the previous Workers' Compensation insurance carrier."},
    "wc_prior_policy_number": {"type": "str", "description": "The policy number from the prior Workers' Compensation carrier."},
    "wc_prior_premium_amount": {"type": "float", "description": "The premium amount from the prior Workers' Compensation policy."},
    "wc_prior_experience_mod": {"type": "float", "description": "The experience modification factor from the prior Workers' Compensation policy."},
    "wc_claim_count_paid_loss_history": {"type": "int", "description": "The total number of paid claims in the reported loss history period."},
    "wc_claim_amount_paid_loss_history": {"type": "float", "description": "The total dollar amount paid for claims in the reported loss history period."},
    "wc_claim_amount_reserved_loss_history": {"type": "float", "description": "The total dollar amount reserved for outstanding claims in the reported loss history period."},
    "wc_nature_of_business_description": {"type": "str", "description": "A detailed description of the insured's operations specific to Workers' Compensation, especially if ACORD 125 is not submitted."},
    "wc_subcontractors_flag": {"type": "bool", "description": "Boolean indicating if the business uses subcontractors, impacting how their workers are covered."},
    "wc_leased_employees_flag": {"type": "bool", "description": "Boolean indicating if the business uses leased employees, impacting coverage responsibilities."},
    "wc_safety_programs_flag": {"type": "bool", "description": "Boolean indicating if the business has implemented formal safety programs to reduce workplace injuries."},
    "wc_coverage_declined_in_past_flag": {"type": "bool", "description": "Boolean indicating if Workers' Compensation coverage was declined by other carriers in the past."},
    "wc_bankruptcy_flag": {"type": "bool", "description": "Boolean indicating if the business has filed for bankruptcy."},
    "wc_tax_liens_flag": {"type": "bool", "description": "Boolean indicating if the business has outstanding tax liens."},
    "wc_employers_liability_limit": {"type": "float", "description": "The maximum dollar limit for Employers Liability coverage, which protects against claims not covered by statutory Workers' Compensation."},
    "wc_other_states_coverage_needed_flag": {"type": "bool", "description": "Boolean indicating if coverage is required in states other than the primary state of operation."},
    "wc_ncci_risk_id": {"type": "str", "description": "The NCCI risk ID, used for identifying the specific risk for experience rating purposes."},
    "wc_rating_information_details": {"type": "str", "description": "Details pertaining to the overall rating information and schedule rating used to determine the estimated annual premium."},
    "wc_state_rating_worksheet_details": {"type": "str", "description": "Details from the state rating worksheet, including specific job duties and class codes for each location."},
    "pli_type_of_business_industry": {"type": "str", "description": "The specific industry or profession of the insured (e.g., 'Medical', 'Legal', 'Information Technology', 'Accounting', 'Consulting', 'Real Estate'). This is a primary determinant of risk and coverage needs."},
    "pli_geographic_area_of_practice": {"type": "str", "description": "The primary geographic region or state where the professional services are rendered, influencing legal and market risks."},
    "pli_years_in_business": {"type": "int", "description": "The total duration of the professional's operation or the business's existence, often indicating stability and experience."},
    "pli_number_of_past_claims": {"type": "int", "description": "The historical count of claims filed against the professional or business, a key factor in assessing future risk and premium."},
    "pli_number_of_employees": {"type": "int", "description": "The total number of employees within the professional practice or business, impacting exposure and administrative costs."},
    "pli_coverage_limit_per_claim": {"type": "float", "description": "The maximum dollar amount the policy will pay for any single covered claim or occurrence."},
    "pli_coverage_limit_aggregate": {"type": "float", "description": "The maximum dollar amount the policy will pay for all covered claims combined over the entire policy period (typically one year)."},
    "pli_deductible_amount": {"type": "float", "description": "The dollar amount the insured must pay out-of-pocket for each covered claim before the insurance coverage begins."},
    "pli_policy_type": {"type": "str", "description": "Specifies the basis of coverage: 'Claims-Made' (covers claims reported during the policy period, regardless of when the event occurred) or 'Occurrence' (covers events that occur during the policy period, even if the claim is filed after the policy expires; rare in PLI)."},
    "pli_policy_period_start_date": {"type": "str", "description": "The start date of the policy period for which coverage is active."},
    "pli_policy_period_end_date": {"type": "str", "description": "The end date of the policy period for which coverage is active."},
    "pli_claim_date_of_incident": {"type": "str", "description": "The specific date when the professional error, omission, or negligent act occurred, relevant for occurrence-based policies."},
    "pli_claim_date_reported": {"type": "str", "description": "The date when a claim related to professional liability was reported to the insurer, relevant for claims-made policies."},
    "pli_covered_act_negligence_flag": {"type": "bool", "description": "Boolean indicating if the policy specifically covers claims arising from professional negligence."},
    "pli_covered_act_errors_omissions_flag": {"type": "bool", "description": "Boolean indicating if the policy specifically covers claims arising from errors or omissions in professional services."},
    "pli_covered_act_mistakes_oversights_flag": {"type": "bool", "description": "Boolean indicating if the policy specifically covers claims arising from mistakes or oversights in professional services."},
    "pli_covered_act_undelivered_services_flag": {"type": "bool", "description": "Boolean indicating if the policy specifically covers claims arising from services that were promised but not delivered."},
    "pli_covered_act_missed_deadlines_flag": {"type": "bool", "description": "Boolean indicating if the policy specifically covers claims arising from failure to meet agreed-upon deadlines."},
    "pli_covered_act_breach_of_contract_flag": {"type": "bool", "description": "Boolean indicating if the policy specifically covers claims arising from a breach of contractual obligations related to professional services."},
    "pli_covered_act_copyright_infringement_flag": {"type": "bool", "description": "Boolean indicating if the policy specifically covers claims related to copyright infringement in the course of professional services."},
    "pli_defense_costs_coverage_flag": {"type": "bool", "description": "Boolean indicating if the policy covers legal expenses incurred in defending against a professional liability claim, even if groundless."},
    "pli_exclusion_criminal_prosecution_flag": {"type": "bool", "description": "Boolean indicating if the policy explicitly excludes coverage for criminal acts or prosecution."},
    "pli_exclusion_employee_injuries_flag": {"type": "bool", "description": "Boolean indicating if the policy explicitly excludes coverage for employee injuries (typically covered by Workers' Compensation)."},
    "pli_exclusion_employee_discrimination_lawsuits_flag": {"type": "bool", "description": "Boolean indicating if the policy explicitly excludes coverage for employee discrimination lawsuits (typically covered by Employment Practices Liability Insurance)."},
    "pli_exclusion_vehicle_business_use_flag": {"type": "bool", "description": "Boolean indicating if the policy explicitly excludes coverage for claims arising from vehicle business use (typically covered by Commercial Auto insurance)."},
    "pli_exclusion_bodily_injury_flag": {"type": "bool", "description": "Boolean indicating if the policy explicitly excludes coverage for bodily injury to third parties (typically covered by General Liability insurance)."},
    "pli_exclusion_business_property_damage_flag": {"type": "bool", "description": "Boolean indicating if the policy explicitly excludes coverage for damage to business property (typically covered by Commercial Property insurance)."},
    "pli_exclusion_customer_injuries_damages_flag": {"type": "bool", "description": "Boolean indicating if the policy explicitly excludes coverage for customer injuries or damages (typically covered by General Liability insurance)."},
    "pli_exclusion_cyber_liability_flag": {"type": "bool", "description": "Boolean indicating if the policy explicitly excludes coverage for cyber liability, data breaches, and technology-based issues (often requiring a separate cyber insurance policy)."},
    "pli_policy_wording_specific_clauses": {"type": "str", "description": "Details or flags indicating the specific wording of critical policy clauses, as subtle differences can have significant legal implications."},
    "pli_customized_policy_flag": {"type": "bool", "description": "Boolean indicating if the policy is a customized version designed for a specific profession or industry."},
    "pli_regulatory_requirements_met_flag": {"type": "bool", "description": "Boolean indicating if the policy meets any specific legal or regulatory requirements for professional liability insurance in the industry or location."},
    "underwriting_risk_assessment_status": {"type": "str", "description": "The current status of the underwriting process (e.g., 'Pending', 'Approved', 'Declined', 'Referred')."},
    "underwriting_risk_score_overall": {"type": "float", "description": "An aggregated numerical score representing the overall risk level of the insured business, calculated during underwriting."},
    "underwriting_risk_score_property": {"type": "float", "description": "A risk score specifically for property-related exposures."},
    "underwriting_risk_score_liability": {"type": "float", "description": "A risk score specifically for liability-related exposures."},
    "underwriting_risk_score_auto": {"type": "float", "description": "A risk score specifically for commercial auto-related exposures."},
    "underwriting_risk_score_workers_comp": {"type": "float", "description": "A risk score specifically for workers' compensation exposures."},
    "underwriting_risk_score_professional_liability": {"type": "float", "description": "A risk score specifically for professional liability exposures."},
    "underwriting_business_activity_classification_code": {"type": "str", "description": "The NAICS or SIC code identifying the industry in which a business operates, crucial for understanding varying risk profiles."},
    "underwriting_business_years_in_operation": {"type": "int", "description": "The number of years a business has been in operation, indicating stability and experience."},
    "underwriting_business_size_indicator": {"type": "str", "description": "An indicator of business size, often derived from annual revenue or number of employees."},
    "underwriting_business_revenue_annual": {"type": "float", "description": "The business's annual revenue, a key indicator of financial strength and stability, used for determining appropriate coverage levels."},
    "underwriting_business_primary_location_details": {"type": "str", "description": "Information about the primary physical location of the business, important for evaluating geographical and property-related risks."},
    "underwriting_business_secondary_location_details": {"type": "str", "description": "Information about any secondary or international locations of the business, which can be challenging to obtain but critical for comprehensive risk assessment."},
    "underwriting_environmental_hazardous_material_exposure_flag": {"type": "bool", "description": "Boolean indicating any potential environmental or hazardous material exposure associated with the business's operations."},
    "underwriting_liability_risk_public_flag": {"type": "bool", "description": "Boolean indicating exposure to public liability risks."},
    "underwriting_liability_risk_product_flag": {"type": "bool", "description": "Boolean indicating exposure to product liability risks."},
    "underwriting_liability_risk_professional_flag": {"type": "bool", "description": "Boolean indicating exposure to professional liability risks."},
    "underwriting_payroll_data_accuracy_flag": {"type": "bool", "description": "Boolean indicating the accuracy and completeness of payroll data, essential for premium calculation."},
    "underwriting_loss_control_measures_in_place_flag": {"type": "bool", "description": "Boolean indicating if effective loss control or prevention measures are implemented by the business."},
    "underwriting_construction_details_impact_score": {"type": "float", "description": "A score or assessment of how construction details impact potential for damage or loss."},
    "underwriting_occupancy_type_impact_score": {"type": "float", "description": "A score or assessment of how occupancy type impacts potential for damage or loss."},
    "underwriting_risk_management_measures_description": {"type": "str", "description": "A description of any risk management or loss prevention measures in place."},
    "underwriting_financial_statement_analysis_summary": {"type": "str", "description": "A summary of insights from the business's financial statements (P&L, balance sheets), assessing financial health."},
    "underwriting_location_susceptibility_natural_disasters": {"type": "str", "description": "Assessment of the location's susceptibility to natural disasters."},
    "underwriting_location_crime_rates": {"type": "str", "description": "Assessment of crime rates in the property's area."},
    "underwriting_location_proximity_fire_departments": {"type": "str", "description": "Assessment of proximity to fire departments or water sources."},
    "underwriting_data_prefill_source": {"type": "str", "description": "The source system or service from which data was pre-filled during the underwriting process (e.g., 'LexisNexis')."},
    "underwriting_data_prefill_accuracy_score": {"type": "float", "description": "A score indicating the accuracy of data obtained through prefill solutions."},
    "underwriting_manual_effort_hours": {"type": "float", "description": "The estimated manual effort in hours spent by an underwriter to collect and verify data points."},
    "underwriting_loss_prediction_model_score": {"type": "float", "description": "A score from a predictive model indicating the likelihood of future losses."},
    "underwriting_submission_quality_score": {"type": "float", "description": "A score reflecting the completeness and quality of the insurance submission package."},
    "premium_calculation_method": {"type": "str", "description": "The method used for calculating the premium (e.g., 'Modal' for equal division, 'Daily' for per-day calculation)."},
    "premium_base_type": {"type": "str", "description": "The specific basis used for calculating the premium for a given coverage or classification (e.g., 'Payroll', 'Gross Sales', 'Square Footage', 'Units')."},
    "premium_base_amount": {"type": "float", "description": "The numerical value of the premium base (e.g., total payroll in dollars, total gross sales in dollars, total square footage)."},
    "premium_loss_costs_applied": {"type": "float", "description": "The specific loss costs (actuarially determined) applied to the premium base for a given classification."},
    "premium_coverage_change_factors_applied": {"type": "float", "description": "Any specific rate adjustment factors applied due to coverage exclusions or limitations (e.g., Personal and Advertising Injury Exclusion)."},
    "premium_increased_limits_factors_applied": {"type": "float", "description": "Factors applied for increased liability limits on premises/operations or products/completed operations."},
    "premium_experience_rating_factor_applied": {"type": "float", "description": "The experience rating factor applied to the premium, reflecting the insured's unique loss history."},
    "premium_schedule_rating_factor_applied": {"type": "float", "description": "The schedule rating factor applied, allowing for subjective adjustments based on specific risk characteristics."},
    "premium_package_modification_factor_applied": {"type": "float", "description": "A modification factor applied if the policy is part of a package, potentially offering a discount."},
    "premium_individual_risk_premium_modification_factor_applied": {"type": "float", "description": "Any additional modification factor from an insurer's proprietary rating plans."},
    "premium_minimum_premium_applied": {"type": "float", "description": "The minimum premium amount charged for a specific coverage or policy, regardless of calculated exposure."},
    "premium_business_size_factor": {"type": "float", "description": "A factor influencing premium based on the business's size, measured by employees, revenue, or square footage."},
    "premium_industry_type_risk_level": {"type": "str", "description": "The assessed risk level of the business's industry type, influencing premium rates."},
    "premium_claims_history_impact_factor": {"type": "float", "description": "A factor reflecting the impact of the business's prior claims history (frequency, severity) on premium rates."},
    "premium_location_risk_factor": {"type": "float", "description": "A factor based on the business's geographic location, considering natural disaster risk, crime rates, and proximity to emergency services."},
    "premium_property_age_condition_factor": {"type": "float", "description": "A factor based on the age and condition of the insured property."},
    "premium_property_construction_type_factor": {"type": "float", "description": "A factor based on the construction type of the property (e.g., Frame, Fire Resistive)."},
    "premium_property_security_measures_factor": {"type": "float", "description": "A factor based on the presence and effectiveness of security measures (alarms, cameras)."},
    "premium_property_fire_protection_proximity_factor": {"type": "float", "description": "A factor based on proximity to fire stations or hydrants."},
    "premium_coverage_limits_selected": {"type": "float", "description": "The specific coverage limits chosen by the insured, directly impacting premium cost."},
    "premium_deductible_amount_selected": {"type": "float", "description": "The deductible amount chosen by the insured; higher deductibles generally lead to lower premiums."},
    "premium_risk_management_system_discount_flag": {"type": "bool", "description": "Boolean indicating if a discount is applied for a certified risk management system."},
    "premium_cybersecurity_practices_discount_flag": {"type": "bool", "description": "Boolean indicating if a discount is applied for robust cybersecurity practices, relevant for cyber coverage."},
    "premium_rating_method_used": {"type": "str", "description": "The primary rating method employed ('Class Rating'/'Manual Rating' for similar businesses, or 'Specific Rating' for unique/complex risks)."},
    "premium_cope_construction_factor": {"type": "float", "description": "A factor derived from the construction characteristics (COPE) of the building."},
    "premium_cope_occupancy_factor": {"type": "float", "description": "A factor derived from the occupancy characteristics (COPE) of the building."},
    "premium_cope_protection_factor": {"type": "float", "description": "A factor derived from the fire protection characteristics (COPE) of the building."},
    "premium_cope_exposure_factor": {"type": "float", "description": "A factor derived from the external exposure characteristics (COPE) of the building."},
    "premium_total_insured_value_factor": {"type": "float", "description": "A factor based on the Total Insured Value (TIV) of the property."},
    "premium_fire_risk_score_iso": {"type": "float", "description": "The fire risk score provided by ISO's commercial property database."},
    "premium_loss_exposure_information_iso": {"type": "str", "description": "Loss exposure information provided by ISO to assist with risk selection."},
    "premium_calculated_gross": {"type": "float", "description": "The calculated gross premium before any discounts or adjustments."},
    "premium_calculated_net": {"type": "float", "description": "The calculated net premium after commissions but before taxes or fees."},
    "premium_commission_amount": {"type": "float", "description": "The calculated commission amount included in the premium."},
    "premium_tax_amount_calculated": {"type": "float", "description": "The calculated tax amount associated with the premium."},
    "premium_fee_amount_calculated": {"type": "float", "description": "The calculated fee amount associated with the premium."},
    "claim_id": {"type": "str", "description": "A unique identifier assigned to each claim, used for tracking and processing."},
    "claim_status": {"type": "str", "description": "The current status of the claim (e.g., 'Open', 'Closed', 'Pending Review', 'Approved', 'Denied')."},
    "claim_type": {"type": "str", "description": "The type of loss or incident that triggered the claim (e.g., 'Property Damage', 'Bodily Injury', 'Theft', 'Fire', 'Liability')."},
    "claim_date_of_loss": {"type": "str", "description": "The specific date when the loss or incident occurred."},
    "claim_date_reported": {"type": "str", "description": "The date when the policyholder or representative first notified the insurer of the claim."},
    "claim_description_of_incident": {"type": "str", "description": "A detailed narrative description of the incident leading to the claim."},
    "claim_cause_of_loss_code": {"type": "str", "description": "A standardized code identifying the specific peril or cause of the loss (e.g., 'Collision', 'Fire', 'Flood', 'Windstorm')."},
    "claim_location_of_loss_street": {"type": "str", "description": "The street address where the loss or incident took place."},
    "claim_location_of_loss_city": {"type": "str", "description": "The city where the loss occurred."},
    "claim_location_of_loss_state": {"type": "str", "description": "The state or province where the loss occurred."},
    "claim_location_of_loss_zip": {"type": "str", "description": "The postal code or ZIP code where the loss occurred."},
    "claim_insured_asset_id": {"type": "str", "description": "Identifier for the specific insured asset (e.g., vehicle VIN, property ID) involved in the claim."},
    "claim_insured_asset_location_id": {"type": "str", "description": "Identifier for the location of the insured asset at the time of loss."},
    "claim_claimant_name": {"type": "str", "description": "The full name of the individual or entity making the claim (can be the insured or a third party)."},
    "claim_claimant_contact_info": {"type": "str", "description": "Contact details (phone, email) for the claimant."},
    "claim_total_loss_flag": {"type": "bool", "description": "Boolean indicating if the claim resulted in a total loss of the insured item."},
    "claim_paid_amount": {"type": "float", "description": "The total dollar amount paid out for the claim."},
    "claim_reserved_amount": {"type": "float", "description": "The current amount of money set aside (reserved) by the insurer to cover the estimated future cost of the claim."},
    "claim_expense_reserve_amount": {"type": "float", "description": "The amount reserved for expenses related to handling the claim (e.g., legal fees, investigation costs)."},
    "claim_salvage_amount": {"type": "float", "description": "The amount recovered from the sale of damaged property (salvage) after a loss."},
    "claim_subrogation_amount": {"type": "float", "description": "The amount recovered from a third party responsible for the loss (subrogation)."},
    "claim_adjuster_id": {"type": "str", "description": "The unique identifier of the claims adjuster assigned to the case."},
    "claim_adjuster_notes": {"type": "str", "description": "Detailed notes and observations recorded by the claims adjuster during the investigation."},
    "claim_litigation_status": {"type": "str", "description": "The status of any legal proceedings related to the claim (e.g., 'Pre-suit', 'Litigation', 'Settled')."},
    "claim_fraud_detection_flag": {"type": "bool", "description": "Boolean indicating if the claim has been flagged for potential fraud based on automated detection models."},
    "claim_fraud_score": {"type": "float", "description": "A numerical score indicating the likelihood of fraud for the claim."},
    "claim_supporting_documents_list": {"type": "str", "description": "A list or reference to supporting documents submitted with the claim (e.g., 'Receipts', 'Photos', 'Police Report', 'Medical Report')."},
    "claim_document_classification": {"type": "str", "description": "The classification of submitted documents (e.g., 'Claims Form', 'Medical Report', 'Legal Document')."},
    "claim_document_extraction_status": {"type": "str", "description": "Status of data extraction from claims documents (e.g., 'Extracted', 'Pending Review')."},
    "claim_data_validation_status": {"type": "str", "description": "Status of data validation for extracted claim information."},
    "claim_approval_status": {"type": "str", "description": "The current approval status of the claim payment process."},
    "claim_payment_party_type": {"type": "str", "description": "The type of entity receiving the claim payment (e.g., 'Insured', 'Third-Party Vendor', 'Medical Provider')."},
    "claim_average_incurred_per_claim": {"type": "float", "description": "A KPI tracking the average incurred cost per claim for a specific period or LOB."},
    "claim_average_duration_days": {"type": "float", "description": "A KPI tracking the average duration (in days) from claim submission to closure."},
    "claim_closing_ratio_percentage": {"type": "float", "description": "A KPI tracking the percentage of claims closed relative to claims opened."},
    "claim_new_losses_count": {"type": "int", "description": "The count of new losses reported within a specific period, categorized by incidents, claims, or suits."},
    "claim_predictive_safety_score": {"type": "float", "description": "A score from predictive models indicating future safety outcomes based on claims data."},
    "claim_medical_cost_projection": {"type": "float", "description": "A projection of future medical costs for a claim, based on predictive models."},
    "claim_litigation_risk_score": {"type": "float", "description": "A score indicating the likelihood of a claim proceeding to litigation."},
    "claim_reinsurance_recoverable_amount": {"type": "float", "description": "The amount of claim payment expected to be recovered from a reinsurer."},
    "claim_subrogation_potential_flag": {"type": "bool", "description": "Boolean indicating if there is potential for subrogation (recovery from a third party)."},
    "claim_policy_period_start_date": {"type": "str", "description": "The start date of the policy period under which the claim is being filed."},
    "claim_policy_period_end_date": {"type": "str", "description": "The end date of the policy period under which the claim is being filed."},
    "payment_schedule_entry_number": {"type": "str", "description": "An auto-generated unique identifier for each individual entry in the payment schedule."},
    "payment_schedule_date": {"type": "str", "description": "The scheduled date on which a premium payment is due."},
    "payment_schedule_premium_amount": {"type": "float", "description": "The portion of the premium amount due for this specific payment schedule entry."},
    "payment_schedule_fee_amount": {"type": "float", "description": "The portion of the fee amount due for this specific payment schedule entry."},
    "payment_schedule_tax_amount": {"type": "float", "description": "The portion of the tax amount due for this specific payment schedule entry."},
    "payment_schedule_total_amount": {"type": "float", "description": "The sum of the premium, fee, and tax amounts for this specific payment schedule entry."},
    "payment_schedule_is_paid_flag": {"type": "bool", "description": "Boolean indicating if the premium for this payment schedule entry has been successfully paid."},
    "payment_schedule_status": {"type": "str", "description": "The current status of the payment schedule entry (e.g., 'Valid', 'Invalid', 'Booked', 'Invoiced'). 'Invalid' status often indicates consolidation due to cancellation or reinstatement."},
    "payment_schedule_insurance_policy_transaction_type": {"type": "str", "description": "The transaction type associated with the payment schedule entry (e.g., 'Policy Issuance', 'Policy Endorsement', 'Cancellation', 'Reinstatement')."},
    "payment_schedule_coverage_id": {"type": "str", "description": "Identifier for the specific coverage (e.g., CGL, Property) to which this payment schedule entry pertains, for granular breakdown."},
    "payment_schedule_insured_item_id": {"type": "str", "description": "Identifier for the specific insured item (e.g., a particular building, vehicle) to which this payment schedule entry pertains."},
    "payment_schedule_participant_id": {"type": "str", "description": "Identifier for any specific participant on the policy (e.g., an additional insured) to which this payment schedule entry pertains."},
    "payment_schedule_current_payment_plan": {"type": "str", "description": "The name or type of the payment plan currently in effect for the policy (e.g., 'Monthly Installment', 'Annual Payment')."},
    "payment_schedule_payment_start_date": {"type": "str", "description": "The date set for the first payment under a new or rescheduled payment plan."},
    "payment_schedule_apply_to_new_transactions_flag": {"type": "bool", "description": "Boolean indicating if the new payment plan should be applied to subsequent policy transactions within the selected term."},
    "payment_schedule_term_id": {"type": "str", "description": "The unique identifier for the policy term to which the payment schedule applies."},
    "payment_schedule_transaction_id": {"type": "str", "description": "The identifier of the specific policy transaction (e.g., endorsement, cancellation) that generated this payment schedule entry."},
    "payment_schedule_charge_date": {"type": "str", "description": "The date when the charge for this payment schedule entry is applied and becomes ready for invoicing."},
    "payment_schedule_gross_premium": {"type": "float", "description": "The gross calculated premium for this charge, including commissions but excluding taxes or fees."},
    "payment_schedule_net_premium": {"type": "float", "description": "The net calculated premium for this charge, excluding taxes or fees, and including commissions unless agency-billed."},
    "payment_schedule_commission_amount": {"type": "float", "description": "The calculated commission amount for this specific payment charge."},
    "payment_schedule_currency": {"type": "str", "description": "The currency of the payment charge."},
    "payment_schedule_invoiced_unpaid_charges_flag": {"type": "bool", "description": "Boolean indicating if the search for scheduled payments should include charges that have been invoiced but remain unpaid."},
    "endorsement_id": {"type": "str", "description": "A unique identifier for the specific endorsement or amendment."},
    "endorsement_number": {"type": "str", "description": "The official number assigned to the endorsement."},
    "endorsement_state_code": {"type": "str", "description": "The two-digit state code to which the endorsement applies; '00' for all states."},
    "endorsement_effective_date": {"type": "str", "description": "The date on which the changes introduced by the endorsement become active."},
    "endorsement_type": {"type": "str", "description": "The type of endorsement (e.g., 'Addition', 'Deletion', 'Modification', 'Correction')."},
    "endorsement_description": {"type": "str", "description": "A brief description of the changes made by the endorsement."},
    "endorsement_ncci_standard_version": {"type": "str", "description": "The NCCI standard version number of the endorsement, if applicable (e.g., for Workers' Compensation)."},
    "endorsement_modified_version": {"type": "str", "description": "The modified version number of the endorsement, if it deviates from the NCCI standard."},
    "endorsement_policy_information_page_change_flag": {"type": "bool", "description": "Boolean indicating if the endorsement specifically modifies data elements on the policy information page."},
    "endorsement_policy_number_identifier_change_flag": {"type": "bool", "description": "Boolean indicating if the endorsement changes the policy number identifier (e.g., WC890302)."},
    "endorsement_policy_effective_date_change_flag": {"type": "bool", "description": "Boolean indicating if the endorsement changes the policy effective date (e.g., WC890603)."},
    "endorsement_policy_expiration_date_change_flag": {"type": "bool", "description": "Boolean indicating if the endorsement changes the policy expiration date (e.g., WC890604)."},
    "endorsement_name_of_producer_change_flag": {"type": "bool", "description": "Boolean indicating if the endorsement changes the name of the producer (e.g., WC890607)."},
    "endorsement_legal_nature_of_insured_change_flag": {"type": "bool", "description": "Boolean indicating if the endorsement changes the legal nature of the insured (e.g., WC890610)."},
    "endorsement_carrier_code_change_flag": {"type": "bool", "description": "Boolean indicating if the endorsement changes the carrier code (e.g., WC890619)."},
    "endorsement_additional_insured_flag": {"type": "bool", "description": "Boolean indicating if the endorsement adds an 'additional insured' to the policy."},
    "endorsement_additional_insured_entity_name": {"type": "str", "description": "The name of the entity added as an additional insured via endorsement."},
    "endorsement_additional_insured_coverage_scope": {"type": "str", "description": "The specific scope of coverage extended to the additional insured, typically narrower than the named insured."},
    "endorsement_waiver_of_subrogation_flag": {"type": "bool", "description": "Boolean indicating if the endorsement includes a waiver of subrogation clause, modifying the insurer's right to recover from a third party."},
    "endorsement_indemnification_clause_flag": {"type": "bool", "description": "Boolean indicating if the endorsement includes an indemnification clause, modifying obligations between parties."},
    "endorsement_coverage_extension_flag": {"type": "bool", "description": "Boolean indicating if the endorsement broadens existing coverage or adds new items not originally addressed (e.g., newly acquired property)."},
    "endorsement_deductible_program_flag": {"type": "bool", "description": "Boolean indicating if the endorsement relates to a deductible program (e.g., for Workers' Compensation)."},
    "endorsement_loss_history_impact_flag": {"type": "bool", "description": "Boolean indicating if the endorsement's changes could impact the named insured's loss history, potentially leading to higher future premiums."},
    "data_quality_status": {"type": "str", "description": "The current data quality status of the record (e.g., 'Validated', 'Pending Validation', 'Error')."},
    "data_validation_rules_applied": {"type": "str", "description": "A list or code indicating the specific data validation rules applied to the record."},
    "data_validation_error_description": {"type": "str", "description": "A description of any data validation errors identified."},
    "data_source_system": {"type": "str", "description": "The originating system or source from which the data was collected (e.g., 'ACORD 125 Form', 'API Prefill', 'Manual Entry')."},
    "data_last_updated_date": {"type": "str", "description": "The timestamp when the data record was last modified."},
    "data_last_updated_by_user_id": {"type": "str", "description": "The user ID of the individual who last modified the data record."},
    "data_created_date": {"type": "str", "description": "The timestamp when the data record was initially created."},
    "data_created_by_user_id": {"type": "str", "description": "The user ID of the individual who initially created the data record."},
    "data_audit_trail_reference": {"type": "str", "description": "A reference to the audit trail or log for changes made to the data record."},
    "data_completeness_percentage": {"type": "float", "description": "A metric indicating the percentage of required fields that are populated for a record."},
    "data_accuracy_score": {"type": "float", "description": "A score indicating the accuracy of the data, potentially based on cross-referencing or verification."},
    "data_consistency_status": {"type": "str", "description": "An indicator of whether the data is consistent across related records or systems."},
    "data_timeliness_status": {"type": "str", "description": "An indicator of whether the data is up-to-date and reflects the current reality."},
    "data_logical_integrity_status": {"type": "str", "description": "An indicator of whether the data adheres to logical business rules and relationships."},
    "data_anonymization_status": {"type": "str", "description": "Status of data anonymization, especially for shared or analytical datasets."},
    "data_consent_management_status": {"type": "str", "description": "The status of consent for data usage and sharing, particularly for sensitive or personal data."},
    "data_sensitive_data_flag": {"type": "bool", "description": "Boolean indicating if the field contains sensitive data requiring enhanced protection."},
    "data_encryption_status": {"type": "str", "description": "Status of encryption for data at rest and in transit."},
    "regulatory_reporting_naic_company_code": {"type": "str", "description": "The five-digit code assigned by the NAIC to all U.S. domiciled companies that have filed a Financial Annual Statement with the NAIC."},
    "regulatory_reporting_company_name_state": {"type": "str", "description": "The two-character state abbreviation for the company name state."},
    "regulatory_reporting_zip_code_location_insured_property": {"type": "str", "description": "The 5-digit numerical zip code for the location of the insured property, used for granular market analysis."},
    "regulatory_reporting_reporting_year": {"type": "int", "description": "A 4-digit year indicating the calendar year for which the data is being reported (e.g., 2022, 2021, 2020, 2019, 2018)."},
    "regulatory_reporting_policy_form": {"type": "str", "description": "The specific Dwelling or Homeowners policy form (e.g., DF, HO-1, HO-2, HO-3, HO-5, HO-8) or equivalent forms, used for categorization in reports."},
    "regulatory_reporting_written_premium": {"type": "float", "description": "The sum of direct written premium for all policies reported in 'Written House Months in Reporting Year' during the specified calendar year."},
    "regulatory_reporting_policies_in_force_at_end_of_year": {"type": "int", "description": "The total count of all policies where coverage is active as of December 31 of the reporting year."},
    "regulatory_reporting_written_house_months_in_reporting_year": {"type": "int", "description": "The total count of house months for all policies written in the reporting year (e.g., a 12-month policy counts as 12 house months)."},
    "regulatory_reporting_count_of_paid_claims_in_reporting_year": {"type": "int", "description": "The total number of claims closed with payment during the reporting year, regardless of loss date or report date."},
    "regulatory_reporting_losses_paid_in_reporting_year": {"type": "float", "description": "The total sum of direct losses paid during the reporting year, excluding salvage, subrogation, and reserves."},
    "regulatory_reporting_coverage_a_aggregate_limits": {"type": "float", "description": "The aggregate sum of Coverage A (Dwelling) limits for all reported policies."},
    "regulatory_reporting_coverage_b_aggregate_limits": {"type": "float", "description": "The aggregate sum of Coverage B (Other Structures) limits for all reported policies."},
    "regulatory_reporting_coverage_c_aggregate_limits": {"type": "float", "description": "The aggregate sum of Coverage C (Personal Property) limits for all reported policies."},
    "regulatory_reporting_coverage_d_aggregate_limits": {"type": "float", "description": "The aggregate sum of Coverage D (Loss of Use) limits for all reported policies."},
    "regulatory_reporting_written_house_months_with_wind_coverage": {"type": "int", "description": "Total house months for policies including wind coverage."},
    "regulatory_reporting_written_house_months_not_providing_wind_coverage": {"type": "int", "description": "Total house months for policies not providing wind coverage."},
    "regulatory_reporting_written_house_months_not_providing_wildfire_coverage": {"type": "int", "description": "Total house months for policies not providing wildfire coverage."},
    "regulatory_reporting_written_house_months_not_providing_earthquake_coverage": {"type": "int", "description": "Total house months for policies not providing earthquake coverage."},
    "regulatory_reporting_written_house_months_not_providing_cosmetic_damage_roof": {"type": "int", "description": "Total house months for policies not covering cosmetic roof damage."},
    "regulatory_reporting_written_house_months_not_providing_cosmetic_damage_siding": {"type": "int", "description": "Total house months for policies not covering cosmetic siding damage."},
    "regulatory_reporting_count_policies_endorsements_eq_coverage": {"type": "int", "description": "Total count of policies or endorsements with earthquake coverage."},
    "regulatory_reporting_aggregate_premium_earthquake_coverage": {"type": "float", "description": "Total written premium specifically for earthquake coverage."},
    "regulatory_reporting_count_policies_wind_endorsement": {"type": "int", "description": "Total count of policies with a wind endorsement."},
    "regulatory_reporting_premium_wind_endorsement": {"type": "float", "description": "Total premium charged for wind endorsements."},
    "regulatory_reporting_count_policies_standalone_wind_coverage": {"type": "int", "description": "Total count of policies with standalone wind coverage."},
    "regulatory_reporting_premium_standalone_wind_coverage": {"type": "float", "description": "Total premium charged for standalone wind coverage policies (Note: For Hawaii, 'Wind' refers to Hurricane coverage)."},
    "regulatory_reporting_written_house_months_rc_coverage_dwelling": {"type": "int", "description": "Total house months for policies with Replacement Cost (RC) coverage on dwelling structures."},
    "regulatory_reporting_written_house_months_acv_coverage_dwelling": {"type": "int", "description": "Total house months for policies with Actual Cash Value (ACV) coverage on dwelling structures, including policies with roof service policy schedules (RPS)."},
    "regulatory_reporting_written_house_months_rc_coverage_roof": {"type": "int", "description": "Total house months for policies with RC coverage on roof structures."},
    "regulatory_reporting_written_house_months_acv_coverage_roof": {"type": "int", "description": "Total house months for policies with Actual Cash Value (ACV) coverage on roof structures, including policies with roof service policy schedules (RPS)."},
    "regulatory_reporting_written_house_months_rc_coverage_siding": {"type": "int", "description": "Total house months for policies with RC coverage on siding materials."},
    "regulatory_reporting_written_house_months_acv_coverage_siding": {"type": "int", "description": "Total house months for policies with Actual Cash Value (ACV) coverage on siding materials."},
    "regulatory_reporting_written_house_months_100_rc": {"type": "int", "description": "Total house months for policies where Coverage A is up to and equal to 100% of replacement cost."},
    "regulatory_reporting_written_house_months_extended_rc_100_125": {"type": "int", "description": "Total house months for policies where Coverage A is >100% but <=125% of replacement cost."}
}

NUMERIC_FIELDS = [k for k, v in FIELD_MAP.items() if v["type"] in ["float", "int"]]

LABEL_FIELD = "policy_type"

class DynamicXMLDataset(Dataset):
    def __init__(self, xml_folder, field_map=FIELD_MAP):
        self.features = []
        self.labels = []
        self.policy_types = []
        self.field_map = field_map
        self.label_encoder = LabelEncoder()

        files = [f for f in os.listdir(xml_folder) if f.endswith('.xml')]
        for file in files:
            try:
                root = ET.parse(os.path.join(xml_folder, file)).getroot()
                row = []
                for key in NUMERIC_FIELDS:
                    node = root.find(key)
                    if node is None:
                      raise ValueError(f"Missing key: {key}")
                    val_type = self.field_map[key]["type"]
                    if val_type == "float":
                      val = float(node.text.strip())
                    elif val_type == "int":
                      val = int(node.text.strip())
                    row.append(val)
                label_node = root.find(LABEL_FIELD)
                if label_node is None:
                    continue
                label = label_node.text.strip().lower()
                self.features.append(row)
                self.policy_types.append(label)
            except Exception as e:
                print(f"Skipping {file} due to: {e}")

        self.X = np.array(self.features, dtype=np.float32)
        self.y = self.label_encoder.fit_transform(self.policy_types)
        self.scaler = StandardScaler()
        self.X = self.scaler.fit_transform(self.X)

    def __len__(self):
        return len(self.X)

    def __getitem__(self, idx):
        return torch.tensor(self.X[idx]), torch.tensor(self.y[idx])
